{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\avata\\\\OneDrive\\\\Documentos\\\\codes\\\\react-things\\\\crud-finances\\\\src\\\\contexts\\\\BalanceContext.tsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport Axios from 'axios';\nimport { TransactionsContext } from \"./TransactionsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BalanceContext = /*#__PURE__*/createContext({});\n\nfunction BalanceProvider({\n  children\n}) {\n  _s();\n\n  const [total, setTotal] = useState(0);\n  const [expense, setExpense] = useState(0);\n  const [income, setIncome] = useState(0);\n  const [values, setValues] = useState([]);\n  const {\n    addTrans\n  } = useContext(TransactionsContext);\n\n  function addBalance(value) {\n    if (value > 0) {\n      setIncome(previousValue => previousValue + Number(value));\n      setTotal(previousPrice => previousPrice + Number(value));\n    } else if (value < 0) {\n      setExpense(previousValue => previousValue + Number(value));\n      setTotal(previousValue => previousValue + Number(value));\n    }\n  }\n\n  useEffect(() => {\n    values.map(value => {\n      const newValue = Number(value.value).toFixed(2);\n      addBalance(Number(newValue));\n    });\n  }, [total]);\n\n  function removeBalance(value) {\n    if (value > 0) {\n      setIncome(previousValue => previousValue - Number(value));\n      setTotal(previousPrice => previousPrice - Number(value));\n    } else if (value < 0) {\n      setExpense(previousValue => previousValue - Number(value));\n      setTotal(previousValue => previousValue - Number(value));\n    }\n  }\n\n  useEffect(() => {\n    Axios.get('http://localhost:5000/balance/get').then(data => {\n      setValues(data.data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BalanceContext.Provider, {\n    value: {\n      setTotal,\n      total,\n      expense,\n      income,\n      setExpense,\n      setIncome,\n      addBalance,\n      removeBalance,\n      setValues,\n      values\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BalanceProvider, \"tmsEx14QLhwN7SzIQOoOlfE6//k=\");\n\n_c = BalanceProvider;\nexport default BalanceProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"BalanceProvider\");","map":{"version":3,"sources":["C:/Users/avata/OneDrive/Documentos/codes/react-things/crud-finances/src/contexts/BalanceContext.tsx"],"names":["createContext","useContext","useEffect","useState","Axios","TransactionsContext","BalanceContext","BalanceProvider","children","total","setTotal","expense","setExpense","income","setIncome","values","setValues","addTrans","addBalance","value","previousValue","Number","previousPrice","map","newValue","toFixed","removeBalance","get","then","data"],"mappings":";;;AAAA,SAASA,aAAT,EAAmCC,UAAnC,EAA+CC,SAA/C,EAA0DC,QAA1D,QAA0E,OAA1E;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,uBAApC;;AAmBA,OAAO,MAAMC,cAAc,gBAAGN,aAAa,CAAC,EAAD,CAApC;;AAEP,SAASO,eAAT,CAAyB;AAACC,EAAAA;AAAD,CAAzB,EAA2D;AAAA;;AACvD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,CAAD,CAAlC;AAEA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,CAAD,CAAtC;AAEA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,CAAD,CAApC;AAEA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAQ,EAAR,CAApC;AAEA,QAAM;AAAEc,IAAAA;AAAF,MAAehB,UAAU,CAACI,mBAAD,CAA/B;;AAEA,WAASa,UAAT,CAAoBC,KAApB,EAAmC;AAC/B,QAAGA,KAAK,GAAG,CAAX,EAAa;AACTL,MAAAA,SAAS,CAACM,aAAa,IAAIA,aAAa,GAAGC,MAAM,CAACF,KAAD,CAAxC,CAAT;AACAT,MAAAA,QAAQ,CAACY,aAAa,IAAIA,aAAa,GAAGD,MAAM,CAACF,KAAD,CAAxC,CAAR;AACH,KAHD,MAGO,IAAIA,KAAK,GAAG,CAAZ,EAAe;AAClBP,MAAAA,UAAU,CAACQ,aAAa,IAAIA,aAAa,GAAGC,MAAM,CAACF,KAAD,CAAxC,CAAV;AACAT,MAAAA,QAAQ,CAACU,aAAa,IAAIA,aAAa,GAAGC,MAAM,CAACF,KAAD,CAAxC,CAAR;AACH;AACJ;;AAEDjB,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,MAAM,CAACQ,GAAP,CAAWJ,KAAK,IAAI;AAChB,YAAMK,QAAQ,GAAGH,MAAM,CAACF,KAAK,CAACA,KAAP,CAAN,CAAoBM,OAApB,CAA4B,CAA5B,CAAjB;AACAP,MAAAA,UAAU,CAACG,MAAM,CAACG,QAAD,CAAP,CAAV;AACH,KAHD;AAIH,GALQ,EAKP,CAACf,KAAD,CALO,CAAT;;AAOA,WAASiB,aAAT,CAAuBP,KAAvB,EAAsC;AAClC,QAAGA,KAAK,GAAG,CAAX,EAAa;AACTL,MAAAA,SAAS,CAACM,aAAa,IAAIA,aAAa,GAAGC,MAAM,CAACF,KAAD,CAAxC,CAAT;AACAT,MAAAA,QAAQ,CAACY,aAAa,IAAIA,aAAa,GAAGD,MAAM,CAACF,KAAD,CAAxC,CAAR;AACH,KAHD,MAGO,IAAIA,KAAK,GAAG,CAAZ,EAAe;AAClBP,MAAAA,UAAU,CAACQ,aAAa,IAAIA,aAAa,GAAGC,MAAM,CAACF,KAAD,CAAxC,CAAV;AACAT,MAAAA,QAAQ,CAACU,aAAa,IAAIA,aAAa,GAAGC,MAAM,CAACF,KAAD,CAAxC,CAAR;AACH;AACJ;;AAEDjB,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,KAAK,CAACuB,GAAN,CAAU,mCAAV,EACEC,IADF,CACOC,IAAI,IAAI;AACVb,MAAAA,SAAS,CAACa,IAAI,CAACA,IAAN,CAAT;AACH,KAHF;AAIF,GALO,EAKL,EALK,CAAT;AAOA,sBACI,QAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAE;AAC5BnB,MAAAA,QAD4B;AAE5BD,MAAAA,KAF4B;AAG5BE,MAAAA,OAH4B;AAI5BE,MAAAA,MAJ4B;AAK5BD,MAAAA,UAL4B;AAM5BE,MAAAA,SAN4B;AAO5BI,MAAAA,UAP4B;AAQ5BQ,MAAAA,aAR4B;AAS5BV,MAAAA,SAT4B;AAU5BD,MAAAA;AAV4B,KAAhC;AAAA,cAYKP;AAZL;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH;;GA7DQD,e;;KAAAA,e;AA+DT,eAAeA,eAAf","sourcesContent":["import { createContext, ReactNode, useContext, useEffect, useState } from \"react\";\r\nimport Axios from 'axios';\r\nimport { TransactionsContext } from \"./TransactionsContext\";\r\n\r\ninterface BalanceContextData {\r\n    total: number;\r\n    setTotal: React.Dispatch<React.SetStateAction<number>>;\r\n    expense: number;\r\n    setExpense: React.Dispatch<React.SetStateAction<number>>;\r\n    income: number;\r\n    setIncome: React.Dispatch<React.SetStateAction<number>>;\r\n    addBalance: (value: number) => void;\r\n    removeBalance: (value: number) => void;\r\n    setValues: React.Dispatch<React.SetStateAction<any>>;\r\n    values: any[];\r\n}\r\n\r\ninterface BalanceProviderProps{\r\n    children: ReactNode;\r\n}\r\n\r\nexport const BalanceContext = createContext({} as BalanceContextData);\r\n\r\nfunction BalanceProvider({children}: BalanceProviderProps) {\r\n    const [total, setTotal] = useState(0);\r\n\r\n    const [expense, setExpense] = useState(0);\r\n\r\n    const [income, setIncome] = useState(0);\r\n\r\n    const [values, setValues] = useState<any[]>([]);\r\n\r\n    const { addTrans } = useContext(TransactionsContext)\r\n\r\n    function addBalance(value: number) {\r\n        if(value > 0){\r\n            setIncome(previousValue => previousValue + Number(value));\r\n            setTotal(previousPrice => previousPrice + Number(value));\r\n        } else if (value < 0) {\r\n            setExpense(previousValue => previousValue + Number(value));\r\n            setTotal(previousValue => previousValue + Number(value));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        values.map(value => {\r\n            const newValue = Number(value.value).toFixed(2);\r\n            addBalance(Number(newValue));\r\n        });\r\n    },[total])\r\n\r\n    function removeBalance(value: number) {\r\n        if(value > 0){\r\n            setIncome(previousValue => previousValue - Number(value));\r\n            setTotal(previousPrice => previousPrice - Number(value));\r\n        } else if (value < 0) {\r\n            setExpense(previousValue => previousValue - Number(value));\r\n            setTotal(previousValue => previousValue - Number(value));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        Axios.get('http://localhost:5000/balance/get')\r\n         .then(data => {\r\n             setValues(data.data)\r\n         })\r\n     }, [])\r\n\r\n    return(\r\n        <BalanceContext.Provider value={{\r\n            setTotal,\r\n            total,\r\n            expense,\r\n            income,\r\n            setExpense,\r\n            setIncome,\r\n            addBalance,\r\n            removeBalance,\r\n            setValues,\r\n            values\r\n        }}>\r\n            {children}\r\n        </BalanceContext.Provider>\r\n    )\r\n}\r\n\r\nexport default BalanceProvider;"]},"metadata":{},"sourceType":"module"}