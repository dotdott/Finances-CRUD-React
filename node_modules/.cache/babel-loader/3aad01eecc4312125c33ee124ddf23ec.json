{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\avata\\\\OneDrive\\\\Documentos\\\\codes\\\\react-things\\\\crud-finances\\\\src\\\\components\\\\Modal.tsx\",\n    _s = $RefreshSig$();\n\nimport { nanoid } from 'nanoid';\nimport { useContext, useEffect } from 'react';\nimport { BalanceContext } from '../contexts/BalanceContext';\nimport { TransactionsContext } from '../contexts/TransactionsContext';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Modal = () => {\n  _s();\n\n  const {\n    setModalActive,\n    InputDescription,\n    setInputDescription,\n    InputAmount,\n    setInputAmount,\n    InputDate,\n    setInputDate,\n    newTransaction,\n    addTrans\n  } = useContext(TransactionsContext);\n  const {\n    addBalance\n  } = useContext(BalanceContext);\n  const id = \"transaction-\" + nanoid();\n\n  const setDescription = e => {\n    setInputDescription(e.target.value);\n  };\n\n  const setAmount = e => {\n    setInputAmount(e.target.value);\n  };\n\n  const setDate = e => {\n    setInputDate(e.target.value);\n  };\n\n  function resetValues(e) {\n    e.target.reset();\n    e.preventDefault();\n    setInputDescription('');\n    setInputAmount(0);\n    setInputDate('');\n  }\n\n  function addTransaction(e) {\n    if (InputDescription === '' || InputDate === '' || InputAmount === 0) {\n      alert('Preencha todos os campos Por favor!');\n      e.preventDefault();\n    } else {\n      Axios.post('http://localhost:5000/transaction/add', {\n        description: InputDescription,\n        value: InputAmount,\n        date: InputDate\n      }); // newTransaction(InputDescription, Number(InputAmount).toFixed(2), InputDate, id);\n\n      setModalActive(false);\n      const value = Number(InputAmount).toFixed(2);\n      InputAmount > 0 ? addBalance(Number(value)) : addBalance(Number(value));\n    }\n  }\n\n  useEffect(() => {\n    Axios.get('http://localhost:5000/transaction/get').then(result => {\n      const data = result.data;\n      console.log(result[0].data.value);\n      newTransaction(data.description, Number(data.value).toFixed(2), data.date, data.id);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Nova Transa\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => resetValues(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sr-only\",\n            htmlFor: \"description\",\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"description\",\n            name: \"description\",\n            placeholder: \"Descri\\xE7\\xE3o\",\n            onChange: e => setDescription(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sr-only\",\n            htmlFor: \"amount\",\n            children: \"Valor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            id: \"amount\",\n            name: \"amount\",\n            placeholder: \"0,00\",\n            onChange: e => setAmount(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sr-only\",\n            htmlFor: \"date\",\n            children: \"Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"date\",\n            name: \"date\",\n            onChange: e => setDate(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"button cancel\",\n            onClick: () => setModalActive(false),\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: e => addTransaction(e),\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Modal, \"f8mHavc5pg9DU46VzEKtyI/MxcY=\");\n\n_c = Modal;\nexport default Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"sources":["C:/Users/avata/OneDrive/Documentos/codes/react-things/crud-finances/src/components/Modal.tsx"],"names":["nanoid","useContext","useEffect","BalanceContext","TransactionsContext","Axios","Modal","setModalActive","InputDescription","setInputDescription","InputAmount","setInputAmount","InputDate","setInputDate","newTransaction","addTrans","addBalance","id","setDescription","e","target","value","setAmount","setDate","resetValues","reset","preventDefault","addTransaction","alert","post","description","date","Number","toFixed","get","then","result","data","console","log"],"mappings":"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","sourcesContent":["import { nanoid } from 'nanoid';\r\nimport { useContext, useEffect } from 'react';\r\nimport { BalanceContext } from '../contexts/BalanceContext';\r\nimport { TransactionsContext } from '../contexts/TransactionsContext';\r\nimport Axios from 'axios';\r\n\r\n\r\nconst Modal = () => {\r\n    const {\r\n            setModalActive, \r\n            InputDescription,\r\n            setInputDescription, \r\n            InputAmount,\r\n            setInputAmount, \r\n            InputDate,\r\n            setInputDate,\r\n            newTransaction,\r\n            addTrans\r\n        } = useContext(TransactionsContext);\r\n\r\n        const { addBalance } = useContext(BalanceContext);\r\n\r\n        const id = \"transaction-\" + nanoid();\r\n\r\n\r\n        const setDescription = (e: any) => {\r\n            setInputDescription(e.target.value)\r\n        }\r\n\r\n        const setAmount = (e: any) => {\r\n            setInputAmount(e.target.value)\r\n        }\r\n\r\n        const setDate = (e: any) => {\r\n            setInputDate(e.target.value)\r\n        }\r\n\r\n        function resetValues(e: any) {\r\n            e.target.reset();\r\n            e.preventDefault();\r\n\r\n            setInputDescription('');\r\n            setInputAmount(0);\r\n            setInputDate('');\r\n        }\r\n\r\n        \r\n        function addTransaction(e: any) {\r\n            if(InputDescription === '' || InputDate === '' || InputAmount === 0){\r\n                alert('Preencha todos os campos Por favor!')\r\n                e.preventDefault();\r\n            } else {\r\n                Axios.post('http://localhost:5000/transaction/add', {\r\n                    description: InputDescription,\r\n                    value: InputAmount,\r\n                    date: InputDate\r\n                })\r\n\r\n                // newTransaction(InputDescription, Number(InputAmount).toFixed(2), InputDate, id);\r\n                setModalActive(false);\r\n                const value = Number(InputAmount).toFixed(2)\r\n                InputAmount > 0 ? addBalance(Number(value)) : addBalance(Number(value))\r\n            }\r\n        }\r\n\r\n        useEffect(() => {\r\n            Axios.get('http://localhost:5000/transaction/get')\r\n            .then(result => {\r\n                \r\n                const data = result.data\r\n                console.log(result[0].data.value)\r\n                newTransaction(data.description, Number(data.value).toFixed(2), data.date, data.id)\r\n            });\r\n        },[])\r\n\r\n    return (        \r\n        <div className=\"modal\">     \r\n            <div id=\"form\">\r\n                <h2>Nova Transação</h2>\r\n                <form onSubmit={e => resetValues(e)}>   \r\n                    <div className=\"input-group\">\r\n                        <label className=\"sr-only\" htmlFor=\"description\">Descrição</label>\r\n                            <input \r\n                                type=\"text\"\r\n                                id=\"description\"\r\n                                name=\"description\"\r\n                                placeholder=\"Descrição\"\r\n                                onChange={(e) => setDescription(e)}                                \r\n                            />\r\n                    </div>       \r\n                    <div className=\"input-group\">\r\n                        <label className=\"sr-only\" htmlFor=\"amount\">Valor</label>\r\n                            <input \r\n                                type=\"number\"\r\n                                step=\"0.01\"\r\n                                id=\"amount\"\r\n                                name=\"amount\"\r\n                                placeholder=\"0,00\"\r\n                                onChange={(e) => setAmount(e)}\r\n                            />\r\n                    </div>        \r\n                    <div className=\"input-group\">\r\n                        <label className=\"sr-only\" htmlFor=\"date\">Data</label>\r\n                            <input \r\n                            type=\"date\"\r\n                            id=\"date\"\r\n                            name=\"date\"\r\n                            onChange={(e) => setDate(e)}\r\n                            />\r\n                    </div>  \r\n                    <div className=\"input-group actions\">\r\n                        <a href=\"#\" className=\"button cancel\" onClick={() => setModalActive(false)}>Cancelar</a>\r\n                        <button \r\n                            type=\"submit\"\r\n                            onClick={(e) => addTransaction(e)}\r\n                        >\r\n                        Salvar\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;"]},"metadata":{},"sourceType":"module"}