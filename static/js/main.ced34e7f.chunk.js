(this["webpackJsonpfinances-react"]=this["webpackJsonpfinances-react"]||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(14),r=n.n(s),i=(n(19),n(3)),o=n(4),u=n.n(o),j=n(0),l=Object(c.createContext)({});var d=function(e){var t=e.children,n=Object(c.useState)(0),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(0),d=Object(i.a)(o,2),b=d[0],O=d[1],h=Object(c.useState)(0),p=Object(i.a)(h,2),m=p[0],x=p[1],f=Object(c.useState)([]),v=Object(i.a)(f,2),N=v[0],g=v[1];function D(e){e>0?(x((function(t){return t+Number(e)})),r((function(t){return t+Number(e)}))):e<0&&(O((function(t){return t+Number(e)})),r((function(t){return t+Number(e)})))}function I(){N.map((function(e){var t=Number(e.value).toFixed(2);D(Number(t))}))}return Object(c.useEffect)((function(){u.a.get("https://crud-finances-heroku.herokuapp.com/balance/get").then((function(e){g(e.data)}))}),[]),Object(c.useEffect)((function(){I()}),[N]),Object(j.jsx)(l.Provider,{value:{setTotal:r,total:s,expense:b,income:m,setExpense:O,setIncome:x,addBalance:D,removeBalance:function(e){e>0?(x((function(t){return t-Number(e)})),r((function(t){return t-Number(e)}))):e<0&&(O((function(t){return t-Number(e)})),r((function(t){return t-Number(e)})))},setValues:g,values:N,balance:I},children:t})},b=function(){var e=Object(c.useContext)(l),t=e.expense,n=e.income,a=e.total;return Object(j.jsxs)("section",{id:"balance",children:[Object(j.jsx)("h2",{className:"sr-only",children:"Balan\xe7o"}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("h3",{children:[Object(j.jsx)("span",{children:"Entradas"}),Object(j.jsx)("img",{src:"/Finances-CRUD-React/assets/income.svg",alt:"Imagem de Entradas"})]}),Object(j.jsxs)("p",{id:"incomeDisplay",children:["R$ ",n]})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("h3",{children:[Object(j.jsx)("span",{children:"Sa\xeddas"}),Object(j.jsx)("img",{src:"/Finances-CRUD-React/assets/minus.svg",alt:"Imagem de Sa\xeddas"})]}),Object(j.jsxs)("p",{id:"expenseDisplay",children:["R$ ",t]})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("h3",{children:[Object(j.jsx)("span",{children:"Total"}),Object(j.jsx)("img",{src:"/Finances-CRUD-React/assets/total.svg",alt:"Imagem do Total"})]}),Object(j.jsxs)("p",{id:"totalDisplay",children:["R$ ",a]})]})]})},O=Object(c.createContext)({});function h(e){var t=e.children,n=Object(c.useState)(!1),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),l=u[0],d=u[1],b=Object(c.useState)(0),h=Object(i.a)(b,2),p=h[0],m=h[1],x=Object(c.useState)(""),f=Object(i.a)(x,2),v=f[0],N=f[1],g=Object(c.useState)([]),D=Object(i.a)(g,2),I=D[0],C=D[1];return Object(j.jsx)(O.Provider,{value:{InputDescription:l,setInputDescription:d,InputAmount:p,setInputAmount:m,InputDate:v,setInputDate:N,ModalActive:s,setModalActive:r,setAddTrans:C,addTrans:I},children:t})}var p=function(){var e=Object(c.useContext)(O),t=e.setModalActive,n=e.InputDescription,a=e.setInputDescription,s=e.InputAmount,r=e.setInputAmount,i=e.InputDate,o=e.setInputDate,d=e.addTrans,b=e.setAddTrans,h=Object(c.useContext)(l).balance;var p="https://crud-finances-heroku.herokuapp.com";return Object(c.useEffect)((function(){u.a.get(p+"/transaction/get").then((function(e){b(e.data)}))}),[d]),Object(c.useEffect)((function(){h()}),[]),Object(j.jsx)("div",{className:"modal",children:Object(j.jsxs)("div",{id:"form",children:[Object(j.jsx)("h2",{children:"Nova Transa\xe7\xe3o"}),Object(j.jsxs)("form",{onSubmit:function(e){return function(e){e.target.reset(),e.preventDefault(),a(""),r(0),o("")}(e)},children:[Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"sr-only",htmlFor:"description",children:"Descri\xe7\xe3o"}),Object(j.jsx)("input",{type:"text",id:"description",name:"description",placeholder:"Descri\xe7\xe3o",onChange:function(e){return function(e){a(e.target.value)}(e)}})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"sr-only",htmlFor:"amount",children:"Valor"}),Object(j.jsx)("input",{type:"number",step:"0.01",id:"amount",name:"amount",placeholder:"0,00",onChange:function(e){return function(e){r(e.target.value)}(e)}})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"sr-only",htmlFor:"date",children:"Data"}),Object(j.jsx)("input",{type:"date",id:"date",name:"date",onChange:function(e){return function(e){o(e.target.value)}(e)}})]}),Object(j.jsxs)("div",{className:"input-group actions",children:[Object(j.jsx)("a",{href:"#",className:"button cancel",onClick:function(){return t(!1)},children:"Cancelar"}),Object(j.jsx)("button",{type:"submit",onClick:function(e){return function(e){""===n||""===i||0===s?(alert("Preencha todos os campos Por favor!"),e.preventDefault()):(u.a.post(p+"/transaction/add",{description:n,value:s,date:i}),t(!1),u.a.post(p+"/balance/add",{value:s}))}(e)},children:"Salvar"})]})]})]})})},m=function(e){var t=e.InputDescription,n=e.InputAmount,a=e.InputDate,s=e.id,r=Object(c.useContext)(O).addTrans,i=Object(c.useContext)(l).removeBalance,o="https://crud-finances-heroku.herokuapp.com";return Object(j.jsxs)("tr",{id:s,children:[Object(j.jsx)("td",{className:"description",children:t}),Object(j.jsx)("td",{className:n>0?"income":"expense",children:n}),Object(j.jsx)("td",{className:"date",children:a}),Object(j.jsx)("td",{children:Object(j.jsx)("img",{src:"/Finances-CRUD-React/assets/minus.svg",alt:"Remover transa\xe7\xe3o",onClick:function(){return function(e){var t=r.find((function(t){return t.id===e}));i(t),u.a.delete(o+"/balance/delete/".concat(e)),u.a.delete(o+"/transaction/delete/".concat(e))}(s)}})})]})},x=function(){var e=Object(c.useContext)(O),t=e.ModalActive,n=e.setModalActive,a=e.addTrans.map((function(e){return Object(j.jsx)(m,{InputDescription:e.description,InputAmount:e.value,InputDate:e.date,id:e.id},e.id)}));return Object(j.jsxs)("section",{id:"transactions",children:[Object(j.jsx)("h2",{className:"sr-only",children:"Transa\xe7\xf5es"}),Object(j.jsx)("a",{href:"#",className:"button new",onClick:function(){return n(!0)},children:"+ Nova Transa\xe7\xe3o"}),Object(j.jsxs)("table",{id:"data-table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(j.jsx)("th",{children:"Valor"}),Object(j.jsx)("th",{children:"Data"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:a})]}),Object(j.jsx)("div",{className:!1===t?"modal-overlay":"modal-overlay active",children:Object(j.jsx)(p,{})})]})};var f=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{children:Object(j.jsx)("img",{src:"/Finances-CRUD-React/assets/logo.svg",alt:"logo"})}),Object(j.jsx)("main",{className:"container",children:Object(j.jsx)(b,{})}),Object(j.jsx)(x,{}),Object(j.jsx)("footer",{children:Object(j.jsx)("p",{children:"dev.finance$"})})]})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(h,{children:Object(j.jsx)(d,{children:Object(j.jsx)(f,{})})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.ced34e7f.chunk.js.map